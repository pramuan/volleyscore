# VolleyScore

ระบบจัดการสกอร์บอร์ดวอลเลย์บอลแบบเรียลไทม์ (Real-time Volleyball Scoreboard System)

VolleyScore คือเว็บแอปพลิเคชันสำหรับบริหารจัดการการแข่งขันวอลเลย์บอล แสดงผลสกอร์บอร์ด และควบคุมคะแนนผ่านระบบเครือข่าย รองรับการใช้งานร่วมกับโปรแกรมถ่ายทอดสด (OBS/vMix) ผ่าน Browser Source

![VolleyScore Thumbnail](https://github.com/pramuan/volleyscore/blob/main/thumbnail.png?raw=true)

## คุณสมบัติเด่น (Key Features)

- **Real-time Sync**: คะแนนอัปเดตทันทีทุกหน้าจอผ่าน Socket.IO
- **Management Dashboard**: หน้าจัดการแมตช์การแข่งขัน สร้าง แก้ไข ลบ และตั้งค่ากติกา
- **Controller**: หน้าควบคุมคะแนนสำหรับกรรมการ หรือเจ้าหน้าที่สนาม รองรับการใช้งานผ่านมือถือ
- **Display**: หน้าแสดงผลสกอร์บอร์ดขนาดใหญ่สำหรับขึ้นจอในสนาม
- **OBS Integration**: รองรับการดึงค่าแยกส่วน (ชื่อทีม, คะแนน, เซต) เพื่อนำไปทำกราฟิกถ่ายทอดสดแบบโปร่งใส
- **Team Customization**: รองรับการปรับแต่งสีประจำทีม (Team Colors) และอัปโหลดโลโก้
- **Custom Backgrounds**: ปรับเปลี่ยนภาพพื้นหลัง Scoreboard (Background Image) ได้อิสระเพื่อความสวยงาม
- **Automatic Rules**: ระบบนับคะแนนอัตโนมัติ รองรับ Deuce (Win by 2) และ Tie-break (15 แต้ม)
- **Service Indicator**: แสดงสัญลักษณ์ลูกบอลที่ฝ่ายเสิร์ฟ เพื่อความชัดเจนในการแข่งขัน
- **Side Switching**: ระบบสลับฝั่งทีม (Switch Sides) ได้ง่ายเพียงปุ่มเดียว รองรับการย้ายฝั่งคะแนนและชื่อทีมอัตโนมัติ

## โครงสร้างระบบ (Architecture)

- **Frontend**: React, Vite, Tailwind CSS (อยู่ในโฟลเดอร์ `client`)
- **Backend**: Node.js, Express, Socket.IO (อยู่ในโฟลเดอร์ `server`)
- **Database**: PocketBase (ไฟล์ `pocketbase.exe`)

## การติดตั้งและการใช้งาน (Installation & Usage)

### สิ่งที่ต้องมี (Prerequisites)
- [Node.js](https://nodejs.org/) (Version 16+)
- PocketBase (มีไฟล์ .exe ในโปรเจกต์แล้ว)

### วิธีเริ่มใช้งาน (Quick Start)
ระบบมี Script สำหรับเปิดใช้งานโปรแกรมทั้งหมดพร้อมกันได้ทันที:

1. ดับเบิ้ลคลิกไฟล์ `start_volleyscore.bat` ที่อยู่ในโฟลเดอร์หลัก
2. หน้าต่าง Terminal จะเปิดขึ้นมา (ห้ามปิดหน้าต่างนี้)
3. ระบบจะเปิดหน้าเว็บ **Management Dashboard** ให้อัตโนมัติที่ `http://localhost:5173/management`

*หมายเหตุ: หากต้องการปิดโปรแกรม ให้ปิดหน้าต่าง Terminal*

## คู่มือการใช้งาน (User Guide)

### 1. การสร้างและจัดการแมตช์
เข้าที่หน้า **Management** (`/management`)
- กดปุ่ม "Create New Match"
- ใส่ชื่อแมตช์, ชื่อทีมเหย้า, ชื่อทีมเยือน
- (ใหม่) **เลือกสีประจำทีม**: กดที่แถบสีเพื่อเลือกสีของแต่ละทีม (ค่าเริ่มต้น: Home=Blue, Away=Red)
- (ใหม่) **ภาพพื้นหลัง Scoreboard**: รองรับการอัปโหลดภาพพื้นหลัง (แนะนำขนาด 1920x315 px) เพื่อความสวยงามเมื่อขึ้นจอ
- ตั้งค่าจำนวนเซต (Best of 3/5) และคะแนนต่อเซต (21/25)

### 2. การควบคุมคะแนน
ในหน้า Management ที่การ์ดของแต่ละแมตช์:
- กดปุ่ม **"Controller" > "Open"**
- **การเปลี่ยนฝ่ายเสิร์ฟ**: กดที่ชื่อทีมหรือแถบสีด้านบนเพื่อระบุว่าทีมใดเป็นผู้เสิร์ฟ (จะมีสัญลักษณ์ลูกบอลกะพริบ)
- **สลับฝั่ง (Switch Sides)**: กดปุ่มลูกศรสวนกัน (Switch) ตรงกลางเพื่อสลับฝั่งการแสดงผล (Home Left/Right)
- **Live Status**: มุมขวาบนจะแสดงสถานะว่าแมตช์นี้กำลัง "Live" อยู่หรือไม่
- จะได้หน้าจอควบคุมสำหรับกดเพิ่ม/ลดคะแนน, และจบเซต
- *Tip: สามารถ Copy ลิงก์หน้านี้ส่งให้ทีมงานเปิดผ่านมือถือได้*

### 3. การจัดการโลโก้และพื้นหลัง (Logos & Backgrounds)
- **การอัปโหลด**: ในหน้า "Create New Match" หรือ "Edit Match" สามารถเลือกไฟล์รูปภาพ (.png, .jpg) สำหรับโลโก้ทีมและภาพพื้นหลัง
- **การแสดงผล**: โลโก้จะปรากฏในหน้า Management, Controller, และ Display โดยอัตโนมัติ
- **การลบ**: ในหน้าแก้ไขแมตช์ หากมีรูปภาพอยู่แล้ว จะมีปุ่มรูปถังขยะสำหรับลบออก

### 4. การนำไปใช้ถ่ายทอดสด (OBS/vMix)
ในหน้า Management ที่การ์ดของแต่ละแมตช์:
1. **Set as Live**: กดปุ่ม "Set as Live" ที่หน้าการ์ดแมตช์ เพื่อให้ระบบรู้ว่าแมตช์นี้กำลังแข่งขันอยู่ (จะมีผลต่อการแสดงสถานะใน Controller)
2. **Broadcast Links**: กดปุ่มลูกศรลงเพื่อขยายเมนูรวมลิงก์
    - **Full Display**: ใช้ลิงก์จากปุ่ม "Display" สำหรับขึ้นจอเต็ม
    - **Partial Overlay (แยกชิ้นส่วน)**:
        - *Team Name*: ชื่อทีม
        - *Score*: คะแนนปัจจุบัน
        - *Sets*: จำนวนเซตที่ชนะ
        - *Logo*: ไฟล์โลโก้ทีม (พื้นหลังโปร่งใส)
    - สามารถ Copy URL ทีละรายการไปใส่ใน OBS (Browser Source) เพื่อจัดวาง Layout ได้อย่างอิสระ
